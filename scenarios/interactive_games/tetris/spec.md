### **テトリス ゲーム開発仕様書**

#### **1. ゲーム概要**

古典的なテトリス（Tetris）をベースとした、シングルプレイヤー向けのパズルゲームです。上から落ちてくる様々な形のブロック（テトリミノ）を操作し、フィールドの最下部に積み重ねていきます。横一列に隙間なくブロックが揃うと、その列が消滅し、スコアを獲得します。ブロックがフィールドの最上部に達するとゲームオーバーとなります。

---

#### **2. ゲームモード**

**クラシックモード:**

- **目標:** 可能な限り高いスコアを目指す。
- **レベル:** 時間経過または特定のライン数を消去することでレベルアップし、ブロックの落下速度が上昇します。
- **スコア:** 消去したライン数に応じてスコアが加算されます。

---

#### **3. 基本ルールと機能**

- **テトリミノ:** 以下の 7 種類のテトリミノを使用します。
  - I 字（水色）
  - O 字（黄色）
  - T 字（紫色）
  - S 字（緑色）
  - Z 字（赤色）
  - J 字（青色）
  - L 字（オレンジ色）
- **ランダム生成:** テトリミノは 7 種類を 1 セットとしてランダムに生成されます。1 セットの 7 種類のテトリミノはすべて 1 回ずつ出現します。
- **操作:**
  - **左右移動:** 左右の矢印キーまたは D-pad でテトリミノを左右に移動させます。
  - **回転:** 上矢印キーまたは特定のボタンでテトリミノを時計回りに回転させます。
  - **ソフトドロップ:** 下矢印キーでブロックを素早く落とします。落下中に下キーを離すと落下速度が通常に戻ります。
  - **ハードドロップ:** スペースキーまたは特定のボタンでテトリミノを一瞬で最下部まで落とし、即座に固定します。
- **ホールド機能:** 1 ゲームにつき 1 回だけ、次に落ちてくるテトリミノを一時的にホールド（保留）することができます。ホールドしたブロックは、いつでも現在落下中のブロックと交換可能です。ホールド機能を使った後は、次の落下ブロックをホールドできるようになります。
- **ネクスト表示:** 次に落下するテトリミノを 1〜3 個、画面上の専用領域に表示します。
- **ゴーストブロック:** 現在落下中のテトリミノが最終的にどこに配置されるかを、半透明のシルエットで表示します。
- **ゲームオーバー:** ブロックがフィールドの最上部に達して固定された時点でゲームオーバーとなります。

---

#### **4. UI/UX**

- **メイン画面:**
  - ゲームフィールド
  - スコア表示
  - レベル表示
  - 消去ライン数表示
  - ネクスト（Next）表示
  - ホールド（Hold）表示
- **タイトル画面:**
  - 「ゲームスタート」ボタン
  - 「ハイスコア」ボタン
  - 「遊び方」ボタン
- **ハイスコア画面:**
  - ハイスコアリスト（上位 10 位までを想定）
  - プレイヤー名入力欄（ゲームオーバー時）
- **操作説明画面:**
  - 各操作キー（左右移動、回転、ソフトドロップ、ハードドロップ、ホールド）の説明

---

#### **5. 技術要件**

- **技術要件** HTML, JavaScript, CSS のみで実装し、ブラウザのみで動作すること
- **成果物** scenarios/interactive_games/tetris/generated 以下にすべてのソースコードとアセットを配置すること

---

### **補足**

- 上記の仕様は基本的なテトリスを想定しています。
- より詳細なレベル設計（レベルごとの落下速度の調整、スコア計算式など）や、グラフィックデザイン、サウンドについては別途定義が必要です。
- テトリミノの回転アルゴリズムについては、Super Rotation System (SRS) などの標準的なルールを適用することを推奨します。
- 十字キー上下でページ全体がスクロールしないようにフレームを固定してください。
- ステージ全体がどのデバイスからも見えるようにレスポンシブデザインを適用してください。
- 画面シーンの切り替わりは丁寧にハンドリングしてください。(スタートボタンを押下して適切にゲームが始められることなど)
