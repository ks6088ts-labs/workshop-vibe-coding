/* Root Theme */
:root {
  --font-sans: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  --color-bg: #ffffff;
  --color-bg-alt: #f5f7fa;
  --color-surface: #ffffff;
  --color-border: #d8dee6;
  --color-text: #1a1f29;
  --color-accent: #ff6b4a;
  --color-accent-alt: #fa9d1a;
  --color-danger: #d93025;
  --color-success: #1b7f50;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.08);
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-pill: 999px;
  --transition: 0.2s cubic-bezier(.4,0,.2,1);
}
[data-theme="dark"] {
  --color-bg: #101418;
  --color-bg-alt: #161c23;
  --color-surface: #1f2731;
  --color-border: #314151;
  --color-text: #e7edf3;
  --color-accent: #ff8754;
  --color-accent-alt: #ffc451;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.6);
}
* { box-sizing: border-box; }
html,body { height:100%; }
body { margin:0; font-family: var(--font-sans); background: var(--color-bg); color: var(--color-text); -webkit-font-smoothing: antialiased; }

/* Layout */
.app-header, .app-footer { display:flex; align-items:center; justify-content:space-between; padding:.65rem 1rem; background:var(--color-surface); border-bottom:1px solid var(--color-border); position:sticky; top:0; z-index:20; }
.app-footer { border-top:1px solid var(--color-border); border-bottom:none; position:static; margin-top:2rem; justify-content:center; background:var(--color-bg-alt); }
.brand { font-weight:600; letter-spacing:.5px; }
.top-actions { display:flex; gap:.5rem; align-items:center; }
.layout { padding:1rem; max-width:1280px; margin:0 auto; }
.panel { margin:0 0 2rem; background:var(--color-surface); padding:1rem 1.2rem 1.5rem; border:1px solid var(--color-border); border-radius:var(--radius-md); box-shadow:var(--shadow-sm); }
.panel-header { display:flex; gap:1rem; align-items:center; justify-content:space-between; flex-wrap:wrap; }
.hidden { display:none !important; }

/* Forms & Buttons */
input, select, button { font:inherit; }
input, select { padding:.55rem .7rem; border:1px solid var(--color-border); border-radius:var(--radius-sm); background:var(--color-bg-alt); color:inherit; }
input:focus, select:focus, button:focus { outline:2px solid var(--color-accent); outline-offset:2px; }
button { cursor:pointer; border:1px solid var(--color-border); background:var(--color-surface); color:inherit; padding:.55rem .9rem; border-radius:var(--radius-sm); display:inline-flex; align-items:center; gap:.35rem; transition:var(--transition); }
button.primary { background:linear-gradient(90deg,var(--color-accent),var(--color-accent-alt)); color:#fff; border:none; }
button.primary:hover { filter:brightness(1.05); }
button.secondary { background:var(--color-bg-alt); }
button.secondary:hover { background:var(--color-surface); }
button.icon { background:transparent; border:none; font-size:1rem; }
.pill { border-radius:var(--radius-pill); }
.inline-form { display:flex; gap:.75rem; flex-wrap:wrap; align-items:flex-end; }
label span { display:block; font-size:.75rem; opacity:.8; margin-bottom:.2rem; text-transform:uppercase; letter-spacing:.5px; }
.hint { font-size:.8rem; opacity:.8; }

/* Grid */
.grid { --min:14rem; display:grid; grid-template-columns:repeat(auto-fill,minmax(var(--min),1fr)); gap:1rem; margin-top:1rem; }
.card { position:relative; display:flex; flex-direction:column; background:var(--color-bg-alt); border:1px solid var(--color-border); border-radius:var(--radius-md); overflow:hidden; transition:var(--transition); }
.card:hover { transform:translateY(-3px); box-shadow:0 4px 12px rgba(0,0,0,0.12); }
.card button.card-btn { all:unset; cursor:pointer; }
.card figure { margin:0; aspect-ratio:4/3; background:#ccc; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.card img { width:100%; height:100%; object-fit:cover; display:block; }
.card .body { padding:.75rem .8rem 1rem; display:flex; flex-direction:column; gap:.35rem; }
.price { font-weight:600; color:var(--color-accent); }
.allergy-badge { background:var(--color-danger); color:#fff; font-size:.6rem; padding:.2rem .4rem; border-radius:var(--radius-pill); letter-spacing:.5px; }

/* Dialog */
.dialog { max-width:32rem; width:100%; border:1px solid var(--color-border); border-radius:var(--radius-md); padding:0; background:var(--color-surface); }
.dialog-header { display:flex; justify-content:space-between; align-items:center; padding:.75rem 1rem; border-bottom:1px solid var(--color-border); }
.dialog .media { margin:0; background:var(--color-bg-alt); display:flex; align-items:center; justify-content:center; }
.dialog img { max-width:100%; height:auto; }
.dialog form { display:flex; flex-direction:column; gap:.9rem; }
.qty-row { display:flex; gap:1rem; align-items:flex-end; justify-content:space-between; }
#itemPrice { font-weight:600; color:var(--color-accent); }
.dialog-actions { display:flex; gap:.75rem; justify-content:flex-end; padding:0 1rem 1rem; }
fieldset { border:1px solid var(--color-border); border-radius:var(--radius-sm); padding:.6rem .8rem; }
fieldset legend { padding:0 .4rem; font-size:.75rem; letter-spacing:.5px; text-transform:uppercase; }
fieldset label { display:flex; align-items:center; gap:.4rem; margin:.2rem 0; }

/* Drawer / Cart */
.drawer { position:fixed; top:0; right:0; width:min(380px,100%); height:100%; background:var(--color-surface); box-shadow:-4px 0 12px rgba(0,0,0,0.2); display:flex; flex-direction:column; z-index:40; border-left:1px solid var(--color-border); }
.drawer-header { display:flex; justify-content:space-between; align-items:center; padding:.75rem 1rem; border-bottom:1px solid var(--color-border); }
.cart-items { list-style:none; margin:0; padding:.5rem 0 1rem; flex:1; overflow:auto; }
.cart-items li { display:grid; grid-template-columns:1fr auto; gap:.4rem .75rem; padding:.6rem 1rem .8rem; border-bottom:1px dashed var(--color-border); }
.cart-items li:last-child { border-bottom:none; }
.cart-items h4 { margin:0; font-size:.9rem; font-weight:600; }
.cart-items .meta { font-size:.65rem; opacity:.75; grid-column:1/3; }
.cart-items .qty-row { grid-column:1/3; }
.qty-group { display:inline-flex; border:1px solid var(--color-border); border-radius:var(--radius-pill); overflow:hidden; }
.qty-group button { background:var(--color-bg-alt); border:none; width:2rem; height:2rem; font-size:1rem; line-height:1; }
.qty-group input { width:3rem; text-align:center; border:none; background:transparent; }
.cart-total { padding:.75rem 1rem; display:flex; justify-content:space-between; font-size:1.1rem; border-top:1px solid var(--color-border); }
.cart-actions { padding:.75rem 1rem 1rem; display:flex; gap:.75rem; }

/* Staff Orders */
.orders { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.75rem; }
.order-card { border:1px solid var(--color-border); border-radius:var(--radius-md); padding:.75rem 1rem; background:var(--color-bg-alt); display:flex; flex-direction:column; gap:.5rem; }
.order-header { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:.4rem; }
.status { font-size:.65rem; font-weight:600; padding:.25rem .5rem; border-radius:var(--radius-pill); background:var(--color-border); text-transform:uppercase; letter-spacing:.5px; }
.status[data-status="placed"] { background:var(--color-accent); color:#fff; }
.status[data-status="in_kitchen"] { background:#0072ce; color:#fff; }
.status[data-status="ready"] { background:var(--color-success); color:#fff; }
.status[data-status="served"] { background:#555; color:#fff; }
.status[data-status="cancelled"] { background:var(--color-danger); color:#fff; }
.order-items { font-size:.75rem; line-height:1.3; }

/* Toasts */
.toasts { position:fixed; bottom:1rem; left:50%; transform:translateX(-50%); display:flex; flex-direction:column; gap:.5rem; z-index:200; max-width:90%; width:22rem; }
.toast { background:var(--color-surface); border:1px solid var(--color-border); border-left:4px solid var(--color-accent); padding:.7rem .85rem; border-radius:var(--radius-sm); box-shadow:var(--shadow-sm); font-size:.75rem; display:flex; justify-content:space-between; gap:.75rem; animation:slideIn .4s var(--transition); }
.toast.success { border-left-color:var(--color-success); }
.toast.error { border-left-color:var(--color-danger); }
@keyframes slideIn { from { opacity:0; transform:translate(-50%, 8px);} to {opacity:1; transform:translate(-50%,0);} }

/* Accessibility helpers */
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); border:0; }

/* Responsive */
@media (max-width:680px) { .panel { padding:.9rem .9rem 1.2rem; } .inline-form { flex-direction:column; align-items:stretch; }
  .filters { width:100%; display:flex; gap:.5rem; }
  #searchInput { flex:1; }
}
